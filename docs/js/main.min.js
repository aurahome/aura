/* global document, window, select */
const iconContacts = document.querySelector('#icon-contacts');

function contactsToggle() {
  const contactsDropdown = select('.contacts-dropdown');

  iconContacts.addEventListener('click', () => {
    contactsDropdown.classList.toggle('contacts-dropdown_active');
  });

  document.addEventListener('click', (e) => {
    const { target } = e;
    const itsDropdown = target === iconContacts || iconContacts.contains(target);
    const isActive = contactsDropdown.classList.contains('contacts-dropdown_active');

    if (!itsDropdown && isActive) {
      contactsDropdown.classList.toggle('contacts-dropdown_active');
    }
  });
}

window.onload = contactsToggle();

/* global window, document, select */

const scrollSearch = select('#scroll-search');
const search = select('#header-search');
const mainMenu = select('.main-menu');

function headerSearchToggle() {
  scrollSearch.addEventListener('click', () => {
    search.classList.toggle('search_active');
    mainMenu.classList.toggle('main-menu_hidden');
    document.getElementById('header-search-input').focus();
  });

  const body = select('body');

  window.addEventListener('scroll', () => {
    if (body.scrollTop === 0) {
      search.classList.remove('search_active');
      mainMenu.classList.remove('main-menu_hidden');
    }
  }, true);
}

window.onload = headerSearchToggle();

/* global document, window, select */
const iconUser = document.querySelector('#icon-user');

function userToggle() {
  const userDropdown = select('.user-dropdown');

  iconUser.addEventListener('click', () => {
    userDropdown.classList.toggle('user-dropdown_active');
  });

  document.addEventListener('click', (e) => {
    const { target } = e;
    const itsDropdown = target === iconUser || iconUser.contains(target);
    const isActive = userDropdown.classList.contains('user-dropdown_active');

    if (!itsDropdown && isActive) {
      userDropdown.classList.toggle('user-dropdown_active');
    }
  });
}

window.onload = userToggle();

/* eslint-disable func-names */
/* eslint-disable prefer-arrow-callback */
/* eslint-disable no-undef */
$(document).ready(function () {
  $('.main-slider').slick({
    infinite: true,
    slidesToShow: 1,
    slidesToScroll: 1,
    dots: true,
    speed: 300,
    autoplaySpeed: 2000,
  });
});


/* global window, document */

const header = document.querySelector('header');
const body = document.querySelector('body');
const searchBtn = document.querySelector('#scroll-search');

window.addEventListener('scroll', () => {
  if (body.scrollTop > 0) {
    header.classList.add('sticky');
    searchBtn.classList.remove('hidden');
  } else {
    header.classList.remove('sticky');
    searchBtn.classList.add('hidden');
  }
}, true);

/* eslint-disable no-restricted-syntax */
/* global document, window */
const mainMenuItems = document.querySelectorAll('.main-menu_item');

function mainMenuDropdown() {
  for (const item of mainMenuItems) {
    const trigger = item.querySelector('a');
    const dropdown = item.querySelector('.menu-dropdown-item');

    trigger.addEventListener('click', (e) => {
      e.preventDefault();
      dropdown.classList.toggle('menu-dropdown-item_active');
    });

    document.addEventListener('click', (e) => {
      const { target } = e;
      const itsDropdown = target === item || item.contains(target);
      const isActive = dropdown.classList.contains('menu-dropdown-item_active');

      if (!itsDropdown && isActive) {
        dropdown.classList.toggle('menu-dropdown-item_active');
      }
    });

    item.addEventListener('mouseout', (e) => {
      const { relatedTarget } = e;
      const itsDropdown = relatedTarget === item || item.contains(relatedTarget);
      const isActive = item.classList.contains('menu-dropdown-item_active');

      if (!itsDropdown && isActive) {
        item.classList.toggle('menu-dropdown-item_active');
      }
    });
  }
}

window.onload = mainMenuDropdown();

/* eslint-disable func-names */
/* eslint-disable no-undef */
/* eslint-disable prefer-arrow-callback */
window.addEventListener('scroll', function () {
  const productsLoop = document.querySelector('.products-loop');
  if (body.scrollTop > 85) {
    productsLoop.classList.add('products-loop_padding-top_enabled');
  } else {
    productsLoop.classList.remove('products-loop_padding-top_enabled');
  }
}, true);

/* eslint-disable func-names */
/* eslint-disable prefer-arrow-callback */
/* eslint-disable no-undef */
$(document).ready(function () {
  $('.collection-slider').slick({
    infinite: true,
    slidesToShow: 1,
    slidesToScroll: 1,
    dots: true,
    speed: 300,
    autoplaySpeed: 2000,
  });
});

/* eslint-disable no-restricted-syntax */
/* global select, document, window, reloadSlick */

const toggle3col = select('#grid-3col');
const toggle4col = select('#grid-4col');

function toggleProductLoop() {
  const loopGrid = document.querySelector('.loop-grid');
  const productCard = loopGrid.querySelectorAll('.loop-grid .product-card__images');

  for (const item of productCard) {
    if (toggle3col.checked) {
      loopGrid.classList.remove('loop-grid_columns_4');
      loopGrid.classList.add('loop-grid_columns_3');
      item.classList.remove('product-card__images_size_medium');
      item.classList.add('product-card__images_size_large');
      reloadSlick();
    }
    if (toggle4col.checked) {
      loopGrid.classList.remove('loop-grid_columns_3');
      loopGrid.classList.add('loop-grid_columns_4');
      item.classList.remove('product-card__images_size_large');
      item.classList.add('product-card__images_size_medium');
      reloadSlick();
    }
  }
}

window.onload = toggle3col.addEventListener('click', toggleProductLoop);
window.onload = toggle4col.addEventListener('click', toggleProductLoop);

/* global select, window */

const iconClear = select('.icon-clear');
const mainSearchInput = select('#main-search-input');

function clearSearchInput() {
  iconClear.addEventListener('click', () => {
    mainSearchInput.innerHTML = '';
    mainSearchInput.value = '';
    mainSearchInput.focus();
  });
}

window.onload = clearSearchInput();

/* global window, document */
window.addEventListener('scroll', () => {
  const body = document.querySelector('body');
  const filters = document.querySelector('.products-filter');
  if (body.scrollTop > 85) {
    filters.classList.add('products-filter_sticky');
  } else {
    filters.classList.remove('products-filter_sticky');
  }
}, true);

/* eslint-disable func-names */
/* eslint-disable no-undef */
/* eslint-disable prefer-arrow-callback */
$(document).ready(function () {
  $('.color-panel__element').on('click', function () {
    $('.color-panel__element').each(function () {
      $(this).removeClass('color-panel__element_active');
    });
    $(this).addClass('color-panel__element_active');
  });
});


/* eslint-disable no-restricted-syntax */
/* global window, document */

function dropdownOnClick() {
  const dropdownsList = document.querySelectorAll('.dropdown');
  for (const item of dropdownsList) {
    item.addEventListener('click', () => {
      item.classList.toggle('dropdown_active');
    });
    document.addEventListener('click', (e) => {
      const { target } = e;
      const itsDropdown = target === item || item.contains(target);
      const isActive = item.classList.contains('dropdown_active');

      if (!itsDropdown && isActive) {
        item.classList.toggle('dropdown_active');
      }
    });
  }
}

window.onload = dropdownOnClick();

/* eslint-disable prefer-arrow-callback */
/* eslint-disable no-undef */

function select(item) {
  return document.querySelector(item);
}

function reloadSlick() {
  $('.slider-product-card').slick('unslick');
  $('.slider-product-card').slick({
    infinite: true,
    slidesToShow: 1,
    slidesToScroll: 1,
    dots: true,
    speed: 300,
    autoplaySpeed: 2000,
  });
}


$(document).ready(function () {
  $('.slider-product-card').slick({
    infinite: true,
    slidesToShow: 1,
    slidesToScroll: 1,
    dots: true,
    speed: 300,
    autoplaySpeed: 2000,
  });
});

const $carousel = $('.slider-products');

const settings = {
  dots: false,
  arrows: false,
  slide: '.slider-item',
  slidesToShow: 4,
  centerMode: true,
  centerPadding: '160px',
  speed: 300,
  autoplaySpeed: 2000,
  adaptiveHeight: true,
};

function setSlideVisibility() {
  // Find the visible slides i.e. where aria-hidden="false"
  const visibleSlides = $carousel.find('.slider-item[aria-hidden="false"]');
  // Make sure all of the visible slides have an opacity of 1
  $(visibleSlides).each(function () {
    $(this).css('opacity', 1);
  });

  // Set the opacity of the first and last partial slides.
  $(visibleSlides).first().prev().css('opacity', 0);
}

$carousel.slick(settings);
$carousel.slick('slickGoTo', 1);
setSlideVisibility();

$carousel.on('afterChange', function () {
  setSlideVisibility();
});







const productsLoop = select('.products-loop');













function windowOnLoad() {
  //scrollingHeader();
  //window.addEventListener("scroll", myFunction);
}

window.onload = windowOnLoad();

//# sourceMappingURL=../sourcemaps/main.min.js.map
