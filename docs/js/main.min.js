/* eslint-disable func-names */
/* eslint-disable prefer-arrow-callback */
/* eslint-disable no-undef */
$(document).ready(function () {
  $('.main-slider').slick({
    infinite: true,
    slidesToShow: 1,
    slidesToScroll: 1,
    dots: true,
    speed: 300,
    autoplaySpeed: 2000,
  });
});


/* global window, document */

const header = document.querySelector('header');
const body = document.querySelector('body');
const searchBtn = document.querySelector('#scroll-search');

window.addEventListener('scroll', () => {
  if (body.scrollTop > 0) {
    header.classList.add('sticky');
    searchBtn.classList.remove('hidden');
  } else {
    header.classList.remove('sticky');
    searchBtn.classList.add('hidden');
  }
}, true);

/* eslint-disable func-names */
/* eslint-disable no-undef */
/* eslint-disable prefer-arrow-callback */
window.addEventListener('scroll', function () {
  const productsLoop = document.querySelector('.products-loop');
  if (body.scrollTop > 85) {
    productsLoop.classList.add('products-loop_padding-top_enabled');
  } else {
    productsLoop.classList.remove('products-loop_padding-top_enabled');
  }
}, true);

/* eslint-disable func-names */
/* eslint-disable prefer-arrow-callback */
/* eslint-disable no-undef */
$(document).ready(function () {
  $('.collection-slider').slick({
    infinite: true,
    slidesToShow: 1,
    slidesToScroll: 1,
    dots: true,
    speed: 300,
    autoplaySpeed: 2000,
  });
});

/* global window, document */
window.addEventListener('scroll', () => {
  const body = document.querySelector('body');
  const filters = document.querySelector('.products-filter');
  if (body.scrollTop > 85) {
    filters.classList.add('products-filter_sticky');
  } else {
    filters.classList.remove('products-filter_sticky');
  }
}, true);

/* eslint-disable no-restricted-syntax */
/* global select, document, window, reloadSlick */

const toggle3col = select('#grid-3col');
const toggle4col = select('#grid-4col');

function toggleProductLoop() {
  const loopGrid = document.querySelector('.loop-grid');
  const productCard = loopGrid.querySelectorAll('.loop-grid .product-card__images');

  for (const item of productCard) {
    if (toggle3col.checked) {
      loopGrid.classList.remove('loop-grid_columns_4');
      loopGrid.classList.add('loop-grid_columns_3');
      item.classList.remove('product-card__images_size_medium');
      item.classList.add('product-card__images_size_large');
      reloadSlick();
    }
    if (toggle4col.checked) {
      loopGrid.classList.remove('loop-grid_columns_3');
      loopGrid.classList.add('loop-grid_columns_4');
      item.classList.remove('product-card__images_size_large');
      item.classList.add('product-card__images_size_medium');
      reloadSlick();
    }
  }
}

window.onload = toggle3col.addEventListener('click', toggleProductLoop);
window.onload = toggle4col.addEventListener('click', toggleProductLoop);


/* eslint-disable no-restricted-syntax */
/* global window, document */

function dropdownOnClick() {
  const dropdownsList = document.querySelectorAll('.dropdown');
  for (const item of dropdownsList) {
    item.addEventListener('click', () => {
      item.classList.toggle('dropdown_active');
    });
    document.addEventListener('click', (e) => {
      const { target } = e;
      const itsDropdown = target === item || item.contains(target);
      const isActive = item.classList.contains('dropdown_active');

      if (!itsDropdown && isActive) {
        item.classList.toggle('dropdown_active');
      }
    });
  }
}

window.onload = dropdownOnClick();

/* eslint-disable func-names */
/* eslint-disable no-undef */
/* eslint-disable prefer-arrow-callback */
$(document).ready(function () {
  $('.color-panel__element').on('click', function () {
    $('.color-panel__element').each(function () {
      $(this).removeClass('color-panel__element_active');
    });
    $(this).addClass('color-panel__element_active');
  });
});

/* eslint-disable prefer-arrow-callback */
/* eslint-disable no-undef */

function select(item) {
  return document.querySelector(item);
}

function reloadSlick() {
  $('.slider-product-card').slick('unslick');
  $('.slider-product-card').slick({
    infinite: true,
    slidesToShow: 1,
    slidesToScroll: 1,
    dots: true,
    speed: 300,
    autoplaySpeed: 2000,
  });
}


$(document).ready(function () {
  $('.slider-product-card').slick({
    infinite: true,
    slidesToShow: 1,
    slidesToScroll: 1,
    dots: true,
    speed: 300,
    autoplaySpeed: 2000,
  });
});

const $carousel = $('.slider-products');

const settings = {
  dots: false,
  arrows: false,
  slide: '.slider-item',
  slidesToShow: 4,
  centerMode: true,
  centerPadding: '160px',
  speed: 300,
  autoplaySpeed: 2000,
  adaptiveHeight: true,
};

function setSlideVisibility() {
  // Find the visible slides i.e. where aria-hidden="false"
  const visibleSlides = $carousel.find('.slider-item[aria-hidden="false"]');
  // Make sure all of the visible slides have an opacity of 1
  $(visibleSlides).each(function () {
    $(this).css('opacity', 1);
  });

  // Set the opacity of the first and last partial slides.
  $(visibleSlides).first().prev().css('opacity', 0);
}

$carousel.slick(settings);
$carousel.slick('slickGoTo', 1);
setSlideVisibility();

$carousel.on('afterChange', function () {
  setSlideVisibility();
});







const productsLoop = select('.products-loop');













function windowOnLoad() {
  //scrollingHeader();
  //window.addEventListener("scroll", myFunction);
}

window.onload = windowOnLoad();

//# sourceMappingURL=../sourcemaps/main.min.js.map
